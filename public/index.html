<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Supermarket</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:900,700,600,400,300">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

	<link rel="stylesheet" type="text/css" href="assets/style/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/style/fonts/galano/galano.css">
	<link rel="stylesheet" type="text/css" href="assets/style/fonts/icon-12/icon-12.css">
	<link rel="stylesheet" type="text/css" href="assets/style/fonts/icon-16/icon-16.css">
	<link rel="stylesheet" type="text/css" href="assets/style/main.css">
	<link rel="stylesheet" type="text/css" href="assets/style/cards.css">

</head>
<body id="products" class="white">

	<header>
		<div class="logo">
			<img src="assets/style/images/apple.svg" />
		</div>
	</header>

	<main class="main-content">

		<div class="tab-filter-wrapper">
			<div class="tab-filter">
				<ul class="filters">
					<li class="filter">
						<a class="selected" href="javascript:;" data-type="all">All</a>
					</li>
					<li class="filter">
						<a href="javascript:;" data-type="bakery">Bakery</a>
					</li>
					<li class="filter">
						<a href="javascript:;" data-type="dairy">Dairy</a>
					</li>
					<li class="filter">
						<a href="javascript:;" data-type="fruit">Fruit</a>
					</li>
					<li class="filter">
						<a href="javascript:;" data-type="vegetable">Vegetable</a>
					</li>
				</ul>
			</div>
		</div>

		<section class="gallery">
			<ul id="productList"></ul>
			<div class="fail-message">No products found</div>
		</section>

	</main>
		
	<script src="http://cdn.wedeploy.com/api/latest/wedeploy.js"></script>
	<script type="text/javascript">
		var data = WeDeploy.data('data.supermarket.wedeploy.io');

		var listObject = document.getElementById('productList');
		var listHtml = '';
		data.get('products')
		.then(function(products) {
			for(var i = 0; i < products.length; i++) {
				listHtml += '<li class="mix ' + products[i].type + '" data-title="' + products[i].title + '">';
				listHtml += '<a href="javascript:;" class="add-to-cart" data-id="' + products[i].id + '" data-price="' + products[i].price + '" data-image="assets/images/' + products[i].filename + '" data-name="' + products[i].title + '">Add To Cart</a>';
				listHtml += '<div class="bottom-info">';
				listHtml += '<span class="title">' + products[i].title + '</span>';
				listHtml += '<span class="price">$' + products[i].price + '</span>';
				listHtml += '</div>';
				listHtml += '<div class="blur"></div>';
				listHtml += '<img src="assets/images/' + products[i].filename + '" alt="' + products[i].description + '" />';
				listHtml += '</li>';
			}
			listObject.innerHTML = listHtml;

			return true;
		});
	</script>
</body>
</html>
